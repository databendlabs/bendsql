"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{9063:function(e,t,l){l.r(t),l.d(t,{default:function(){return A}});var i=l(2676),n=l(5271),s=l(4060),a=e=>{let{data:t,plainData:l,selectedNodeId:n,handleNodeSelection:s}=e;return(0,i.jsxs)("div",{className:"mt-5 bg-white shadow-md w-77 box-border rounded-lg p-6 border border-gray-200",children:[(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsxs)("h2",{children:["Most Expensive Nodes ",(0,i.jsxs)("span",{children:["(",null==t?void 0:t.length," of ",null==l?void 0:l.length,")"]})]})}),null==t?void 0:t.map(e=>(0,i.jsxs)("div",{className:"expensive-nodes-node ".concat(n===e.id?"selected":""),onClick:()=>s(null==e?void 0:e.id),children:[(0,i.jsxs)("div",{className:"expensive-nodes-node-name",children:[null==e?void 0:e.name," [",null==e?void 0:e.id,"]"]}),(0,i.jsx)("div",{className:"expensive-nodes-node-percentage",children:null==e?void 0:e.totalTimePercent})]},e.id))]})},r=l(888),d=e=>{let{overviewInfo:t,queryDuration:l=0}=e;return(0,i.jsxs)("div",{className:"expensive-nodes-card",children:[(0,i.jsx)("div",{className:"expensive-nodes-card-header",children:(0,i.jsxs)("h2",{children:["Profile Overview ",(0,i.jsx)("span",{children:"(Finished)"})]})}),(0,i.jsxs)("div",{className:"expensive-nodes-node",children:[(0,i.jsx)("div",{className:"expensive-nodes-node-name",children:"Total Execution Time"}),(0,i.jsxs)("div",{className:"expensive-nodes-node-percentage",children:["(",(0,r.Z)(Math.floor(l/1e3/1e3)),")",null==t?void 0:t.totalTimePercent]})]}),(0,i.jsxs)("div",{className:"expensive-nodes-node",children:[(0,i.jsxs)("div",{className:"expensive-nodes-node-name",children:[(0,i.jsx)("span",{className:"custom-dot",style:{backgroundColor:"rgb(28, 130, 242)"}}),"CPU Time"]}),(0,i.jsx)("div",{className:"expensive-nodes-node-percentage",children:null==t?void 0:t.cpuTimePercent})]}),(0,i.jsxs)("div",{className:"expensive-nodes-node",children:[(0,i.jsxs)("div",{className:"expensive-nodes-node-name",children:[(0,i.jsx)("span",{className:"custom-dot",style:{backgroundColor:"rgb(255, 152, 0)"}}),"I/O Time"]}),(0,i.jsx)("div",{className:"expensive-nodes-node-percentage",children:null==t?void 0:t.waitTimePercent})]})]})},o=l(1471),c=e=>{let{overviewInfo:t}=e,l=parseFloat((null==t?void 0:t.cpuTimePercent)||"0");return(0,i.jsxs)("div",{className:"expensive-nodes-card",children:[(0,i.jsx)("div",{className:"expensive-nodes-card-header",children:(0,i.jsx)("h2",{children:"Profile Overview"})}),(0,i.jsxs)("div",{className:"expensive-nodes-progress",children:[(0,i.jsx)(o.Z,{percent:l,trailColor:"rgba(255, 152, 0)",strokeColor:"rgb(28, 130, 242)",status:"active",showInfo:!1}),(0,i.jsx)("div",{className:"expensive-nodes-percentage",children:null==t?void 0:t.totalTimePercent})]}),(0,i.jsxs)("div",{className:"expensive-nodes-node",children:[(0,i.jsxs)("div",{className:"expensive-nodes-node-name",children:[(0,i.jsx)("span",{className:"custom-dot",style:{backgroundColor:"rgb(28, 130, 242)"}}),"CPU Time"]}),(0,i.jsx)("div",{className:"expensive-nodes-node-percentage",children:null==t?void 0:t.cpuTimePercent})]}),(0,i.jsxs)("div",{className:"expensive-nodes-node",children:[(0,i.jsxs)("div",{className:"expensive-nodes-node-name",children:[(0,i.jsx)("span",{className:"custom-dot",style:{backgroundColor:"rgb(255, 152, 0)"}}),"I/O Time"]}),(0,i.jsx)("div",{className:"expensive-nodes-node-percentage",children:null==t?void 0:t.waitTimePercent})]})]})},u=e=>{let{statisticsData:t}=e,l=(0,n.useMemo)(()=>{var e;return null==t?void 0:null===(e=t.statistics)||void 0===e?void 0:e.slice(2)},[t]),s=(0,n.useMemo)(()=>(null==l?void 0:l.filter(e=>!!e.value).length)>0,[l]);return(0,i.jsx)(i.Fragment,{children:s&&(0,i.jsxs)("div",{className:"expensive-nodes-card",children:[(0,i.jsx)("div",{className:"expensive-nodes-card-header",children:(0,i.jsx)("h2",{children:"Statistics"})}),null==l?void 0:l.map((e,t)=>!!e.value&&(0,i.jsxs)("div",{className:"expensive-nodes-node",children:[(0,i.jsx)("div",{className:"expensive-nodes-node-name",children:e.name}),(0,i.jsxs)("div",{className:"expensive-nodes-node-percentage",children:[e.value," ",e.unit]})]},t))]})})},v=e=>{let{attributesData:t}=e;return(0,i.jsx)(i.Fragment,{children:(null==t?void 0:t.length)>0&&(0,i.jsxs)("div",{className:"expensive-nodes-card",children:[(0,i.jsx)("div",{className:"expensive-nodes-card-header",children:(0,i.jsx)("h2",{children:"Attributes"})}),null==t?void 0:t.map((e,t)=>{var l;return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"expensive-nodes-node-title",children:e.name}),(0,i.jsx)("div",{className:"expensive-nodes-node block",children:null==e?void 0:null===(l=e.value)||void 0===l?void 0:l.map((e,t)=>(0,i.jsx)("div",{className:"expensive-nodes-node-name",children:e},t))})]},t)})]})})},h=l(4807),m=l(4918);let p="OutputRows",x=[["M",21.0374,60],["H",15],["C",12.7909,60,11,61.79086,11,64],["C",11,66.2091,12.7909,68,15,68],["H",21.1059],["C",19.8458,69.9437,15.7082+2,71.2309,15.2964,71.0062],["C",4.5,70,1,69.5,4,63.5],["C",-.5,57.00616,11.5,56.5,15.2964,57.00616],["C",17.6724,57.00616,19.772,58.18999,21.0374,60],["Z"]],f=[["M",125.5,-18],["L",131.9952,-6.75],["L",119.00481,-6.75],["L",125.5,-18],["Z"],["M",125.5,-1],["L",125.5,-7]];function g(e){return e<1e3?e.toString():e>=1e3&&e<1e6?(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?(e/1e6).toFixed(1)+"M":(e/1e9).toFixed(1)+"B"}let j=(e,t,l,i,n)=>[["M",e+n,t],["l",l-2*n,0],["a",n,n,0,0,1,n,n],["l",0,i-2*n],["a",n,n,0,0,1,-n,n],["l",-l+2*n,0],["a",n,n,0,0,1,-n,-n],["l",0,-i+2*n],["a",n,n,0,0,1,n,-n],["Z"]],b=e=>{if(!e||0===e.length)return[];let t=-1;for(let l of e){let{statisticsDescArray:e}=l;if(e&&-1===t&&-1!==(t=e.findIndex(e=>e._type===p)))break}return -1===t&&(t=0),e.map(e=>{var l;let{title:i,name:n,id:s,statisticsDescArray:a}=e,r=(null==a?void 0:null===(l=a[t])||void 0===l?void 0:l._value)||0;return{totalTime:e.totalTime,id:s,outputRows:r,value:{title:((null==n?void 0:n.length)>=26?n.slice(0,26)+"...":n||"  ")+" [".concat(s,"]"),items:[{text:i||"  "}]}}})},N=e=>{if(!e||0===e.length)return[];let t=-1;for(let l of e){let{statisticsDescArray:e}=l;if(e&&-1===t&&-1!==(t=e.findIndex(e=>e._type===p)))break}return -1===t&&(t=0),e.map(e=>{var l;let{statisticsDescArray:i,parent_id:n,id:s}=e,a=(null==i?void 0:null===(l=i[t])||void 0===l?void 0:l._value)||0,r={source:n,target:s};return a<=0?r:{...r,value:g(a),_value:a}})},w=e=>"string"==typeof e?e:e.src,y=w({src:"/_next/static/media/full-screen.7d6ebd20.svg",height:16,width:16,blurWidth:0,blurHeight:0}),T=w({src:"/_next/static/media/zoom-in.a278e09b.svg",height:16,width:16,blurWidth:0,blurHeight:0}),C=w({src:"/_next/static/media/zoom-out.37a3b592.svg",height:16,width:16,blurWidth:0,blurHeight:0}),S=w({src:"/_next/static/media/download.9b92a3cc.svg",height:16,width:16,blurWidth:0,blurHeight:0}),k=e=>{let{graphSize:t,onReady:l,data:s,graphRef:a,overviewInfoCurrent:r,handleResetView:d}=e,o=(0,n.useCallback)(e=>{let{zoomIn:t,zoomOut:l}=e;return(0,i.jsxs)("div",{className:"flex justify-around items-center",children:[(0,i.jsx)("span",{className:"cursor-pointer flex justify-center items-center",onClick:()=>d(),children:(0,i.jsx)("img",{src:y,alt:"full screen"})}),(0,i.jsx)("span",{className:"cursor-pointer flex justify-center items-center",onClick:l,children:(0,i.jsx)("img",{src:C,alt:"zoom out"})}),(0,i.jsx)("span",{className:"cursor-pointer flex justify-center items-center",onClick:t,children:(0,i.jsx)("img",{src:T,alt:"zoom in"})}),(0,i.jsx)("span",{className:"g-cursor g-box-c",onClick:()=>{var e;return null==a?void 0:null===(e=a.current)||void 0===e?void 0:e.downloadFullImage("databend-profile","image/png")},children:(0,i.jsx)("img",{src:S,alt:"download"})})]})},[d,a]),c=e=>({radius:5,fill:"#fff",stroke:"#ccc",filter:"drop-shadow(2px 3px 2px rgba(255, 255, 255, .2))"}),u=e=>{var t;return{fontWeight:600,fill:(null==e?void 0:null===(t=e.errors)||void 0===t?void 0:t.length)?"#fff":"#000"}},v=e=>({lineWidth:(null==e?void 0:e.lineWidth)||1}),h=(0,n.useCallback)((e,t,l)=>{var i,n,a,d,o,c,u;let{startX:v,startY:h,width:m}=l,{text:p}=e,b=null==p?void 0:p.length,N=null==t?void 0:null===(a=t.cfg)||void 0===a?void 0:null===(n=a.item)||void 0===n?void 0:null===(i=n._cfg)||void 0===i?void 0:i.model,w=(null==N?void 0:N.totalTime)/((null===(d=r.current)||void 0===d?void 0:d.totalTime)||1),y=null==N?void 0:null===(o=N.errors)||void 0===o?void 0:o.length,T=null==N?void 0:N.parent_id,C=t.addShape("text",{attrs:{textBaseline:"top",x:v,y:h,text:p,fill:y?"rgba(255,255,255,0.8)":"#75767a",textAlign:"left"},name:"text-".concat(Math.random())}),S=C.getBBox().width;if(b>26&&S>m){let e=p.slice(0,Math.floor(m/S*b-3))+"...";C.attr("text",e)}let k=null!==(c=null==C?void 0:C.getBBox().height)&&void 0!==c?c:0,_=230*w,P=j(v,h+k+10,230,8,4);t.addShape("path",{attrs:{path:P,fill:"#f2f2f2"},name:"progress-bg-".concat(Math.random())});let E=j(v,h+k+10,_,8,4);if(t.addShape("path",{attrs:{path:E,fill:_<=0?"rgba(0,0,0,0)":"rgb(1, 117, 246)"},name:"progress-fg-".concat(Math.random())}),_>0&&_<9&&t.addShape("path",{attrs:{path:x,fill:y?"#f73920":"#fff"},name:"circle-path-bg-".concat(Math.random())}),"null"===T){let e=null===(u=s.edges)||void 0===u?void 0:u.find(e=>(null==e?void 0:e.source)==="null");t.addShape("path",{attrs:{path:f,fill:"#ccc",stroke:"#ccc",lineWidth:(null==e?void 0:e.lineWidth)||1},name:"percentage-output-text-".concat(Math.random())});let l=g(null==N?void 0:N.outputRows);t.addShape("text",{attrs:{textBaseline:"top",x:125+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"12px Arial",l=document.createElement("canvas").getContext("2d");return l?(l.font=t,l.measureText(e).width):0}(l)/2,y:-30,text:l,fill:"rgba(12, 22, 43, 0.6)",fontWeight:"bold",fontSize:12,textAlign:"right"},name:"percentage-output-text"})}let M=w>0?"".concat((100*w).toFixed(1),"%"):"0%";return t.addShape("text",{attrs:{textBaseline:"top",x:v+m,y:h-27,text:M,fill:y?"#fff":"#000",fontSize:11,textAlign:"right"},name:"percentage-text-".concat(Math.random())}),Math.max(k,8)},[r,s]);return(0,n.useMemo)(()=>({...t,onReady:l,data:s,layout:{rankdir:"TB",ranksepFunc:()=>20},toolbarCfg:{className:"absolute top-0 left-0 w-[100px]",show:!0,customContent:o},nodeCfg:{padding:10,size:[250,40],title:{autoEllipsis:!0,containerStyle:{fill:"transparent"},style:u},anchorPoints:[[.5,0],[.5,1]],style:c,nodeStateStyles:{highlight:{stroke:"#2c91ff",lineWidth:2},hover:{stroke:"#2c91ff",lineWidth:2}},customContent:h},edgeCfg:{type:"cubic-vertical",endArrow:!1,style:v,label:{style:{fontWeight:600,fill:"rgba(12, 22, 43, 0.6)"}},startArrow:{type:"triangle"}},markerCfg:e=>{var t;return{animate:!0,position:"bottom",show:null===(t=s.edges.filter(t=>t.source===e.id))||void 0===t?void 0:t.length}},behaviors:["drag-canvas","zoom-canvas"]}),[t,l,s,h,o])};var _=(0,n.memo)(e=>{let{plainData:t,graphSize:l,graphRef:s,overviewInfoCurrent:a,onReady:r}=e,[d,o]=(0,n.useState)(0),c=k({graphSize:l,onReady:r,data:(0,n.useMemo)(()=>{let e=function(e){if(!e||e.length<=2)return e;let t=1/0,l=-1/0,i=[];if(e.forEach(e=>{(null==e?void 0:e._value)!==void 0&&(i.push(null==e?void 0:e._value),(null==e?void 0:e._value)<t&&(t=null==e?void 0:e._value),(null==e?void 0:e._value)>l&&(l=null==e?void 0:e._value))}),0===i.length)return e;let n=l-t,s=0===n?0:3.5/n;return e.forEach(e=>{void 0!==e._value?e.lineWidth=1+(e._value-t)*s:e.lineWidth=1}),e}(N(t));return{nodes:b(t),edges:e}},[t]),graphRef:s,overviewInfoCurrent:a,handleResetView:()=>{let e=null==s?void 0:s.current;e&&(e.fitView(),e.refresh())}});return(0,n.useEffect)(()=>{o(e=>e+1)},[t,l]),(0,i.jsx)(h.Z,{...c},d)},(e,t)=>{let l=(0,m.Z)(e.plainData,t.plainData),i=(0,m.Z)(e.graphSize,t.graphSize);return l&&i}),P=l(6058),E=l(1851);function M(e,t){return 0===t?"0%":"".concat((e/t*100).toFixed(1),"%")}let W=()=>{let e=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let t=()=>{e.current&&e.current()};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),{reshapeDOM:t=>{e.current=t}}},{Content:R,Sider:I}=s.default;function z(e){let{isLoading:t,plainData:l,graphSize:n,graphRef:s,handleResize:a,overviewInfoCurrent:r,setIsLoading:d,profileWrapRef:o,profileWrapRefCanvas:c,bindGraphEvents:u}=e;return(0,i.jsx)("div",{ref:e=>{o.current=e},className:"flex-1 flex justify-center items-center h-screen",children:t?(0,i.jsx)("div",{className:"w-full h-full",children:"loading..."}):(0,i.jsx)(_,{plainData:l,graphSize:n,graphRef:s,overviewInfoCurrent:r,onReady:e=>{t?(e.fitView(),e.refresh(),d(!1)):(s.current=e,e.setMaxZoom(2),e.setMinZoom(.5),u(e))}})})}function D(e){var t;let{rangeData:l,plainData:n,selectedNodeId:s,handleNodeSelection:r,overviewInfo:o,statisticsData:h,labels:m,graphSize:p}=e;return(0,i.jsx)(I,{width:308,style:{background:"#fff"},children:(0,i.jsxs)("div",{className:"overflow-y-auto",style:{height:p.height},children:[(0,i.jsx)(a,{data:l,plainData:n,selectedNodeId:s,handleNodeSelection:r}),"all"!==s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c,{overviewInfo:o}),(0,i.jsx)(u,{statisticsData:h.find(e=>e.id===s)}),(0,i.jsx)(v,{attributesData:null===(t=m.find(e=>e.id===s))||void 0===t?void 0:t.labels})]}):(0,i.jsx)(d,{queryDuration:(null==o?void 0:o.totalTime)||0,overviewInfo:o})]})})}var A=function(){let[e,t]=(0,n.useState)("all"),l=(0,n.useRef)(null),a=(0,n.useRef)(null),r=(0,n.useRef)(null),{graphSize:d,profileRef:o,handleResize:c}=function(){let[e,t]=(0,n.useState)({width:0,height:window.innerHeight/2}),l=(0,n.useRef)(null),{reshapeDOM:i}=W(),s=()=>{(null==l?void 0:l.current)&&t({width:l.current.offsetWidth-408,height:window.innerHeight})};return(0,n.useEffect)(()=>{s(),i(()=>{s()})},[i]),{graphSize:e,profileRef:l,handleResize:s}}(),{plainData:u,rangeData:v,statisticsData:h,labels:m,overviewInfo:p,isLoading:x,setOverviewInfo:f,setIsLoading:g,overviewInfoCurrent:j}=function(){let e=(0,P.useRouter)(),[t,l]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[a,r]=(0,n.useState)([]),[d,o]=(0,n.useState)([]),[c,u]=(0,n.useState)(void 0),[v,h]=(0,n.useState)(!0),m=(0,n.useRef)(void 0),p=(0,n.useCallback)((e,t)=>Object.entries(t).map(t=>{let[l,i]=t;return{_type:l,desc:null==i?void 0:i.desc,display_name:(null==i?void 0:i.display_name)||(null==i?void 0:i.displayName),index:null==i?void 0:i.index,unit:i.unit,plain_statistics:null==i?void 0:i.plain_statistics,_value:e.statistics[null==i?void 0:i.index]}}),[]),x=(0,n.useCallback)((e,t)=>{var l,i;let n=null===(l=t.CpuTime)||void 0===l?void 0:l.index,s=null===(i=t.WaitTime)||void 0===i?void 0:i.index,a=0,r=0;e.forEach(e=>{var l;e.id=String(e.id),e.parent_id=String(e.parent_id);let i=(null==e?void 0:e.statistics[n])||0,d=(null==e?void 0:e.statistics[s])||0;e.totalTime=i+d,e.cpuTime=i,e.waitTime=d,a+=i,r+=d,e.errors=(null==e?void 0:null===(l=e.errors)||void 0===l?void 0:l.length)>0?(null==e?void 0:e.errors).map(e=>{let t=Object.keys(e)[0];return{_errorType:t,...e[t]}}):[],e.statisticsDescArray=p(e,t)});let d=a+r;return e.forEach(e=>{e.totalTimePercent=M(null==e?void 0:e.totalTime,d),e.cpuTimePercent=M(null==e?void 0:e.cpuTime,e.totalTime),e.waitTimePercent=M(null==e?void 0:e.waitTime,e.totalTime)}),e},[p]),f=(0,n.useCallback)((e,t)=>{let l=e.reduce((e,t)=>e+t.cpuTime,0),i=e.reduce((e,t)=>e+t.waitTime,0),n=l+i,s=M(l,n),a=M(i,n);return{cpuTime:l,waitTime:i,totalTime:n,totalTimePercent:"100%",cpuTimePercent:s,waitTimePercent:a,statisticsDescArray:[],errors:[]}},[]),g=(0,n.useCallback)(e=>{var t,l;return null===(l=(0,E.Z)(e))||void 0===l?void 0:null===(t=l.filter(e=>parseFloat(e.totalTimePercent)>0))||void 0===t?void 0:t.sort((e,t)=>t.totalTime-e.totalTime)},[]),j=(0,n.useCallback)((e,t)=>e.map(e=>{var l;return{statistics:Object.entries(t).map(t=>{let[l,i]=t;return{name:i.display_name||l,desc:i.desc,value:e.statistics[i.index],unit:i.unit}}),id:null==e?void 0:null===(l=e.id)||void 0===l?void 0:l.toString()}}),[]),b=(0,n.useCallback)(e=>e.map(e=>{var t;return{labels:e.labels,id:null==e?void 0:null===(t=e.id)||void 0===t?void 0:t.toString()}}),[]),N=Array.isArray(e.query.slug)?e.query.slug.join("/"):e.query.slug;return(0,n.useEffect)(()=>{let t=async()=>{try{let t=e.query.slug&&Array.isArray(e.query.slug)?e.query.slug.join("/"):e.query.slug,i=await fetch("/api/message?perf_id=".concat(t||"0"));if(!i.ok)throw Error("HTTP error! status: ".concat(i.status));let n=await i.json(),a=JSON.parse(null==n?void 0:n.result),d=x(a.profiles,a.statistics_desc),c=f(d,a.statistics_desc);l(d),s(g(d)),u(c),m.current=c,r(j(a.profiles,a.statistics_desc)),o(b(a.profiles))}catch(e){console.error("Error fetching message:",e)}finally{h(!1)}};e.isReady&&(h(!0),t())},[e.isReady,N]),{plainData:t,rangeData:i,statisticsData:a,labels:d,overviewInfo:c,setOverviewInfo:u,isLoading:v,setIsLoading:h,overviewInfoCurrent:m}}(),{handleNodeSelection:b}=function(e,t,l){let i=(0,n.useCallback)(t=>{if(!e.current)return;let l=e.current,i=null==l?void 0:l.getNodes();null==i||i.forEach(e=>{null==l||l.clearItemStates(e)});let n=null==i?void 0:i.find(e=>{var l;return(null==e?void 0:null===(l=e._cfg)||void 0===l?void 0:l.id)===t});n&&(null==l||l.setItemState(n,"highlight",!0))},[e]);return{handleNodeSelection:(0,n.useCallback)(e=>{l(e),i(e)},[l,i])}}(r,0,t),{bindGraphEvents:N}={bindGraphEvents:(0,n.useCallback)(e=>{let i=e=>null==e?void 0:e.getNodes(),n=e=>{var t;null===(t=i(e))||void 0===t||t.forEach(t=>{null==e||e.clearItemStates(t)})};e.on("node:click",e=>{var t,l;let i=null===(l=e.item)||void 0===l?void 0:null===(t=l._cfg)||void 0===t?void 0:t.model,n=(null==i?void 0:i.id)!=null?String(i.id):void 0;n&&b(n)}),e.on("node:mouseleave",()=>{if(!l.current){var e;l.current=null!==(e=document.getElementsByTagName("canvas")[0])&&void 0!==e?e:null}l.current&&(l.current.style.cursor="move")}),e.on("canvas:click",()=>{t("all"),f(j.current||void 0),n(e)}),e.on("canvas:dragstart",()=>{(null==a?void 0:a.current)&&(a.current.style.userSelect="none")}),e.on("canvas:dragend",()=>{(null==a?void 0:a.current)&&(a.current.style.userSelect="unset")})},[l,a,j,f,b,t])};return(0,i.jsx)(s.default,{children:(0,i.jsx)("div",{ref:o,className:"bg-white w-full rounded-lg",children:(0,i.jsx)(s.default,{children:(0,i.jsxs)(R,{className:"p-6 w-full flex",children:[(0,i.jsx)(z,{isLoading:x,plainData:u,graphSize:d,graphRef:r,handleResize:c,overviewInfoCurrent:j,setIsLoading:g,profileWrapRef:a,profileWrapRefCanvas:l,bindGraphEvents:N}),(0,i.jsx)(D,{rangeData:v,plainData:u,selectedNodeId:e,handleNodeSelection:b,overviewInfo:(()=>{if("all"===e)return p;let t=u.find(t=>t.id===e);if(t)return{cpuTime:t.cpuTime,waitTime:t.waitTime,totalTime:t.totalTime,totalTimePercent:t.totalTimePercent,cpuTimePercent:t.cpuTimePercent,waitTimePercent:t.waitTimePercent,labels:t.labels,statisticsDescArray:t.statisticsDescArray,errors:t.errors,name:t.name}})(),statisticsData:h,labels:m,graphSize:d})]})})})})}}}]);